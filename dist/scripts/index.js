"use strict";require(["../scripts/config.js"],function(){require(["jquery","swiper","template","cookie","benlailife"],function(t,o,s,e){t("nav .all_type dl").mouseover(function(){t(this).find("dd").show().end().siblings().find("dd").hide()}),t("nav .all_type").mouseout(function(){t(this).find("dd").hide()});var n=0,a=null;function i(){clearInterval(a),a=setInterval(function(){6==(n+=1)&&(n=0),t("#banner .banner-pic a").eq(n).fadeIn(300).siblings().fadeOut(300),t("#banner .banner-pic ul li").eq(n).addClass("on").siblings().removeClass("on")},3e3)}t("#banner").on("click","dt",function(){-1==(n-=1)&&(n=5),t("#banner .banner-pic a").eq(n).fadeIn(300).siblings().fadeOut(300),t("#banner .banner-pic ul li").eq(n).addClass("on").siblings().removeClass("on")}),t("#banner").on("click","dd",function(){6==(n+=1)&&(n=0),t("#banner .banner-pic a").eq(n).fadeIn(300).siblings().fadeOut(300),t("#banner .banner-pic ul li").eq(n).addClass("on").siblings().removeClass("on")}),t("#banner .banner-pic").mouseover(function(){t("#banner .banner-btn dl").show(),t("#banner .banner-pic ul").stop().animate({top:370},400),t("#banner .banner-pic ul").find("span").css("background","rgba(255,255,255,.75)"),clearInterval(a),t("#banner .banner-pic ul li").mouseenter(function(){t(this).addClass("on").siblings().removeClass("on"),n=t(this).index(),t("#banner .banner-pic a").eq(n).fadeIn(300).siblings().fadeOut(300)})}),t("#banner").mouseleave(function(){t("#banner .banner-btn dl").hide(),t("#banner .banner-pic ul").stop().animate({top:396},400,function(){t("#banner .banner-pic ul").find("span").css("background","rgba(162,162,147,1)")}),i()}),i(),t("main .main-c .newbaby-list dl").mouseover(function(){t(this).find("dt").addClass("on").end().siblings().find("dt").removeClass("on"),t(this).find("dd").css("display","block").end().siblings().find("dd").css("display","none"),t(this).find("dt a").css({marginLeft:"26px",color:"#78a000"}).end().siblings().find("dt a").css({marginLeft:"30px",color:"#626252"})}),t("body").on("mouseenter","li.show-add-car",function(){t(this).find(".box").css("border","4px solid #f8f8f6"),t(this).find("p").eq(0).stop().animate({marginTop:10},200),t(this).find("p").eq(1).stop().animate({marginTop:5},200),t(this).find("p").eq(1).next().stop().animate({marginTop:2},200),t(this).find(".addcar-btn").stop().animate({top:223},200)}),t("body").on("mouseleave","li.show-add-car",function(){t(this).find(".box").css("border","4px solid #fff"),t(this).find("p").eq(0).stop().animate({marginTop:15},200),t(this).find("p").eq(1).stop().animate({marginTop:15},200),t(this).find("p").eq(1).next().stop().animate({marginTop:7},200),t(this).find(".addcar-btn").stop().animate({top:260},200)}),function o(){t(".main-b-nav dt .ico03").animate({width:35,height:35,opacity:.3,marginTop:-6,marginLeft:-5},1e3,"linear",function(){t(this).css({width:1,height:1,opacity:.7,marginTop:22,marginLeft:12}),o()})}(),t("main .main-b").on("click","dd",function(){var o=t(this).index();1==o&&t(this).siblings().eq(0).stop().animate({top:31,left:229},300),2==o&&t(this).siblings().eq(0).stop().animate({top:20,left:423},300),3==o&&t(this).siblings().eq(0).stop().animate({top:47,left:615},300),4==o&&t(this).siblings().eq(0).stop().animate({top:23,left:804},300),5==o&&t(this).siblings().eq(0).stop().animate({top:37,left:1017},300),t("main .main-b-list ul").eq(o-1).show().siblings().hide()}),t(".main-b").on("mouseenter","li",function(){t(this).css({background:"#fff",boxShadow:"1px 1px 8px rgba(227,227,227,.9)"}),t(this).find(".photo").stop().animate({marginTop:15},200),t(this).find(".list-name").stop().animate({marginTop:10},200),t(this).find(".price").stop().animate({marginTop:3},200),t(this).find(".addcar-btn").stop().animate({top:242},200)}),t(".main-b").on("mouseleave","li",function(){t(this).css({background:"",boxShadow:"none"}),t(this).find(".photo").stop().animate({marginTop:25},200),t(this).find(".list-name").stop().animate({marginTop:15},200),t(this).find(".price").stop().animate({marginTop:7},200),t(this).find(".addcar-btn").stop().animate({top:280},200)}),t(".goods").on("mouseenter","dt",function(){t(this).parents(".goods").find("dt").removeClass("on").siblings().hide(),t(this).addClass("on").siblings().show()}),t(".goods").on("mouseover","li.tag_li",function(){t(this).find("a").css({background:"#a6ca44",color:"#fff"}).end().siblings().find("a").css({background:"#fff",color:"#78a000"})}),t(".goods").on("mouseout","li.tag_li",function(){t(".goods-banner li").find("a").css({background:"#fff",color:"#78a000"})});var d=!1,l=!1,r=!1,p=!1;t(window).scroll(function(){800<t(this).scrollTop()&&!d&&(t.ajax({url:"/GetPage_1?page=1&_="+Math.round(1e9*Math.random()),success:function(n){for(var o="",a=0;a<n[0].PageItem.length;a++)o+="<dd><a>"+n[0].PageItem[a].Name+"</a></dd>";t(".main-b-nav dl").append(o),t("#temp_list").load("maijialijian.html",function(){var o=s("main-b-list-data",{list:n});t(".main-b").append(o)}),t("#temp_list").load("floor_1.html",function(){var o=s("floor_1_data",{list:n});t("#goods .goods_1").append(o),t("#goods .goods_1 dl").eq(0).find("dt").addClass("on")}),t("#temp_list").load("floor_2.html",function(){var o=s("floor_2_data",{list:n});t("#goods .goods_2").append(o),t("#goods .goods_2 dl").eq(0).find("dt").addClass("on")})}}),d=!0),2700<t(this).scrollTop()&&!l&&(t.ajax({url:"/GetPage_2?page=2&_="+Math.round(1e9*Math.random()),success:function(n){t("#temp_list").load("floor_0.html",function(){var o=s("floor_0_data",{list:n});t("#goods .goods_3").append(o),t("#goods .goods_3 dl").eq(0).find("dt").addClass("on")}),t("#temp_list").load("floor_1.html",function(){var o=s("floor_1_data",{list:n});t("#goods .goods_4").append(o.replace("时令鲜果","肉禽蛋品")),t("#goods .goods_4 dl").eq(0).find("dt").addClass("on")}),t("#temp_list").load("floor_2.html",function(){var o=s("floor_2_data",{list:n});t("#goods .goods_5").append(o.replace("蔬菜菌菇","居家优选")),t("#goods .goods_5 dl").eq(0).find("dt").addClass("on")})}}),t("#left_nav").append("<a></a><a></a><a></a>"),l=!0),4900<t(this).scrollTop()&&!r&&(t.ajax({url:"/GetPage_3?page=3&_="+Math.round(1e9*Math.random()),success:function(n){t("#temp_list").load("floor_0.html",function(){var o=s("floor_0_data",{list:n});t("#goods .goods_6").append(o.replace("水产海鲜","熟食面点")),t("#goods .goods_6 dl").eq(0).find("dt").addClass("on")}),t("#temp_list").load("floor_1.html",function(){var o=s("floor_1_data",{list:n});t("#goods .goods_7").append(o.replace("时令鲜果","休闲零食")),t("#goods .goods_7 dl").eq(0).find("dt").addClass("on")}),t("#temp_list").load("floor_2.html",function(){var o=s("floor_2_data",{list:n});t("#goods .goods_8").append(o.replace("蔬菜菌菇","酒水茶饮")),t("#goods .goods_8 dl").eq(0).find("dt").addClass("on")})}}),t("#left_nav").append("<a></a><a></a><a></a>"),r=!0),7e3<t(this).scrollTop()&&!p&&(t.ajax({url:"/GetPage_4?page=4&_="+Math.round(1e9*Math.random()),success:function(n){t("#temp_list").load("floor_0.html",function(){var o=s("floor_0_data",{list:n});t("#goods .goods_9").append(o.replace("水产海鲜","厨房用品")),t("#goods .goods_9 dl").eq(0).find("dt").addClass("on")})}}),t("#left_nav").append("<a></a>"),p=!0)}),t("#left_nav").on("click","a",function(){var o=t(this).index();t(this).addClass("on").siblings().removeClass("on"),1==o&&t("body,html").stop().animate({scrollTop:1800},500),2==o&&t("body,html").stop().animate({scrollTop:2500},500),3==o&&t("body,html").stop().animate({scrollTop:3200},500),4==o&&t("body,html").stop().animate({scrollTop:3900},500),5==o&&t("body,html").stop().animate({scrollTop:4700},500),6==o&&t("body,html").stop().animate({scrollTop:5400},500),7==o&&t("body,html").stop().animate({scrollTop:6100},500),8==o&&t("body,html").stop().animate({scrollTop:6900},500),9==o&&t("body,html").stop().animate({scrollTop:7600},500)});var f=null,c=[];t("body").on("click",".addcar-btn",function(){var o={sysno:t(this).attr("sysno"),src:t(this).siblings().eq(0).find("img").attr("src"),tit:t(this).siblings().eq(1).find("em").text(),price:t(this).siblings().eq(2).find("i").text(),count:1},n=e.getCookie("goods"),a=!0;if(n){c=JSON.parse(n);for(var s=0;s<c.length;s++)c[s].sysno==o.sysno&&(c[s].count+=1,e.setCookie("goods",JSON.stringify(c),365),a=!1);a&&(c.push(o),e.setCookie("goods",JSON.stringify(c),365))}else c.push(o),e.setCookie("goods",JSON.stringify(c),365);var i=0;for(s=0;s<c.length;s++)i+=c[s].count;t("#show_goods_msg img").attr("src",o.src),t("#show_goods_msg p").html(o.tit),t("#show_goods_msg em").html(o.price),t("#goTop .rigth_to_shopCar").html(i),t("header .shopcar-box .num").html(i),t("#show_goods_msg").show().stop().animate({right:49},600,function(){var o=this;clearTimeout(f),f=setTimeout(function(){t(o).css({right:-252}).hide()},2500)})});var m=0,g=e.getCookie("goods");if(""!=g){for(var h=JSON.parse(g),b=0;b<h.length;b++)m+=h[b].count;t("#goTop .rigth_to_shopCar").html(m),t("header .shopcar-box .num").html(m)}})});