"use strict";var _createClass=function(){function n(s,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}return function(s,t,e){return t&&n(s.prototype,t),e&&n(s,e),s}}();function _classCallCheck(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}require(["../scripts/config.js"],function(){require(["jquery","cookie","benlailife"],function(n,e){n(".user_home_list").on("click","a",function(){n(".user_home_list a").removeClass("on"),n(this).addClass("on")});var s=!0;n(".user_name_center input").blur(function(){n(this).val()?/^.{4,16}$/.test(n(this).val())?(s=!0,n(".user_name_center span").html("")):(n(".user_name_center span").html("昵称必须为4~16位!"),s=!1):(s=!0,n(".user_name_center span").html(""))});var t=!1;n(".user_old_pass input").blur(function(){n(this).val()?(new a(n(this).val()).get_str().get_json().check(),t=""==n(".user_old_pass .tips").html()):n(".user_old_pass .tips").html(""),t?(n(".user_new_pass input").removeAttr("disabled"),n(".user_comfirm_pass input").removeAttr("disabled")):(n(".user_new_pass input").attr("disabled",""),n(".user_comfirm_pass input").attr("disabled",""))});var i=!1;n(".user_new_pass input").blur(function(){var s=!1,t=!1,e=!1;/\d/.test(n(this).val())&&(s=!0),/[a-z]/.test(n(this).val())&&(t=!0),/[A-Z]/.test(n(this).val())&&(e=!0),2<=s+t+e&&/^\w{8,16}$/.test(n(this).val())?(n(".user_new_pass .tips").html(""),i=!0):n(".user_new_pass .tips").html("密码须为8-16位大写字母,小写字母,数字两种组合以上!")});var r=!1;n(".user_comfirm_pass input").blur(function(){n(this).val()==n(".user_new_pass input").val()?(n(".user_comfirm_pass .tips").html(""),r=!0):n(".user_comfirm_pass .tips").html("密码输入不一致!")}),n(".save_user_info a").click(function(){s&&t&&i&&r&&((new a).get_str().get_json().change(),alert("修改成功!"))});var a=function(){function t(s){_classCallCheck(this,t),this.str="",this.json=[],this.input_str=s,this.has=!0}return _createClass(t,[{key:"get_str",value:function(){return this.str=e.getCookie("user_info"),this}},{key:"get_json",value:function(){return this.json=JSON.parse(this.str),this}},{key:"check",value:function(){for(var s=0;s<this.json.length;s++)this.json[s].status&&this.json[s].pass==this.input_str&&(n(".user_old_pass .tips").html(""),this.has=!1);this.has&&n(".user_old_pass .tips").html("密码错误!")}},{key:"change",value:function(){for(var s=0;s<this.json.length;s++)this.json[s].status&&(this.json[s].name=n(".user_name_center input").val(),this.json[s].pass=n(".user_comfirm_pass input").val());e.setCookie("user_info",JSON.stringify(this.json),365)}},{key:"load",value:function(){for(var s=0;s<this.json.length;s++)this.json[s].status&&(console.log(this.json),n(".phone_num").html(this.json[s].num))}}]),t}();(new a).get_str().get_json().load()})});